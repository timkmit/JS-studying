Cookies (печеньки) — это небольшие фрагменты данных, которые хранятся в браузере и могут быть использованы для сохранения информации между запросами.

### Основные операции с cookies

#### 1. Установка cookies

Чтобы установить cookie, нужно присвоить значение свойству `document.cookie`. Формат записи такой:

`document.cookie = "имя=значение; expires=Дата; path=/";`

- **`имя`** — имя cookie.
- **`значение`** — значение cookie.
- **`expires`** — дата, до которой cookie будет активно. Если не указать, cookie будет действовать только до закрытия браузера.
- **`path`** — путь, для которого cookie будет доступно. Обычно устанавливается в корень (`/`), чтобы cookie было доступно на всех страницах сайта.

**Пример установки cookie:**

`// Устанавливаем cookie с именем "username" и значением "JohnDoe" document.cookie = "username=JohnDoe; expires=Thu, 01 Aug 2024 12:00:00 GMT; path=/";`

Этот код устанавливает cookie с именем "username", значением "JohnDoe", и делает его доступным на всем сайте до 1 августа 2024 года.

#### 2. Чтение cookies

Чтобы получить доступ к cookies, используйте свойство `document.cookie`. Оно возвращает строку всех cookies в виде пары ключ-значение, разделённых `;` . Чтобы получить конкретное значение, нужно разбирать эту строку.

**Пример чтения всех cookies:**

`// Получаем все cookies как строку const cookieString = document.cookie;  // Разбираем строку в объект const cookies = cookieString.split('; ').reduce((acc, cookie) => {   const [name, value] = cookie.split('=');   acc[name] = value;   return acc; }, {});  console.log(cookies);`

Этот код разбирает строку cookies в объект, где ключи — это имена cookies, а значения — это их значения. Выводит объект в консоль.

**Пример чтения конкретной cookie:**

`function getCookie(name) {   const cookies = document.cookie.split('; ').reduce((acc, cookie) => {     const [key, value] = cookie.split('=');     acc[key] = value;     return acc;   }, {});   return cookies[name]; }  const username = getCookie('username'); console.log(username); // Выводит значение cookie "username"`

Этот код извлекает значение конкретной cookie по имени.

#### 3. Удаление cookies

Чтобы удалить cookie, нужно установить его значение в пустое и задать дату истечения в прошедшее время. При этом также следует указать путь, который использовался при установке cookie.

**Пример удаления cookie:**

`// Удаляем cookie "username" document.cookie = "username=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";`

Этот код удаляет cookie с именем "username", устанавливая его срок действия в прошлое.

### Дополнительные аспекты работы с cookies

1. **Установка параметров**
    
    Вы можете настроить дополнительные параметры cookies:
    
    - **`secure`** — cookie будет отправляться только через HTTPS.
    - **`HttpOnly`** — cookie не доступно через JavaScript (это нужно для повышения безопасности).
    
    Например, установка cookie только для HTTPS:
    
    `document.cookie = "secureCookie=secureValue; expires=Thu, 01 Aug 2024 12:00:00 GMT; path=/; secure";`
    
2. **Проблемы с cookies**
    
    - **Ограничение размера:** cookies имеют ограничения по размеру (около 4KB на cookie и 20-50 cookies на домен).
    - **Безопасность:** cookies могут быть украдены или подделаны. Используйте атрибуты `secure` и `HttpOnly` для повышения безопасности.
3. **Анализ и работа с cookies**
    
    Cookies часто используются для хранения идентификаторов сеансов или настроек пользователя. Это позволяет сохранить состояние между запросами и сессиями.
    
    Пример использования cookies для хранения пользовательских предпочтений:
    
    `// Устанавливаем предпочтение пользователя document.cookie = "theme=dark; expires=Thu, 01 Aug 2024 12:00:00 GMT; path=/";  // Читаем предпочтение пользователя const theme = getCookie('theme'); if (theme === 'dark') {   document.body.classList.add('dark-theme'); }`
    
    В этом примере мы сохраняем предпочтение темы пользователя в cookie и применяем его при загрузке страницы.
    

### Заключение

Cookies — это мощный инструмент для хранения данных между запросами и сессиями. Они позволяют сохранять информацию, такую как настройки пользователя или идентификаторы сеансов. Знание основных операций с cookies и их правильное использование поможет вам создавать более интерактивные и персонализированные веб-приложения.