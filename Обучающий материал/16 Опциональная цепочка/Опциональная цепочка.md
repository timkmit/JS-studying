Опциональная цепочка (`?.`)
### Что такое опциональная цепочка?

Опциональная цепочка (optional chaining) — это синтаксическая особенность в JavaScript, которая позволяет безопасно обращаться к вложенным свойствам объекта, даже если некоторые из промежуточных свойств могут быть `null` или `undefined`. Это помогает избежать ошибок и упрощает код, когда нужно работать с глубоко вложенными структурами данных.

### Как работает опциональная цепочка?

Опциональная цепочка использует оператор `?.`, который проверяет, существует ли объект или свойство перед попыткой доступа к нему. Если объект или свойство отсутствует, выражение возвращает `undefined`, вместо того чтобы вызывать ошибку.

**Пример использования:**

`const пользователь = {   имя: "Анна",   адрес: {     город: "Москва",     улица: "Арбат"   } };  // Без опциональной цепочки const город = пользователь && пользователь.адрес && пользователь.адрес.город; console.log(город); // Выводит: Москва  // С опциональной цепочкой const городОпционально = пользователь?.адрес?.город; console.log(городОпционально); // Выводит: Москва`

### Примеры применения

1. **Доступ к вложенным свойствам:**
    
    `const пользователь = {   имя: "Анна",   адрес: {     город: "Москва"   } };  console.log(пользователь?.адрес?.город); // Выводит: Москва console.log(пользователь?.адрес?.почтовыйИндекс); // Выводит: undefined`
    
    Здесь `пользователь?.адрес?.город` вернёт `Москва`, потому что все промежуточные свойства существуют. `пользователь?.адрес?.почтовыйИндекс` вернёт `undefined`, потому что `почтовыйИндекс` не определен в объекте `адрес`.
    
2. **Вызов методов:**
    
    Если вы хотите безопасно вызвать метод, который может не существовать:
    
    `const объект = {   метод: () => "Привет!" };  console.log(объект.метод?.()); // Выводит: Привет! console.log(объект.неСуществующийМетод?.()); // Выводит: undefined`
    
    В этом примере метод `метод` вызывается успешно, а вызов `неСуществующийМетод` возвращает `undefined`, потому что метод не существует.
    
3. **Работа с массивами:**
    
    Опциональная цепочка также может использоваться с массивами и их элементами.
    
    `const массив = [   { имя: "Иван" },   { имя: "Анна", адрес: { город: "Питер" } } ];  console.log(mассив[1]?.адрес?.город); // Выводит: Питер console.log(mассив[0]?.адрес?.город); // Выводит: undefined`
    
    Здесь `массив[1]?.адрес?.город` возвращает `Питер`, а `массив[0]?.адрес?.город` возвращает `undefined`, потому что объект в `массив[0]` не имеет свойства `адрес`.
    

### Ограничения и замечания

1. **Не заменяет проверку `null` и `undefined` везде:**
    
    Опциональная цепочка полезна, но она не заменяет необходимость проверки на `null` или `undefined` в других частях вашего кода. Она лишь упрощает доступ к вложенным свойствам.
    
2. **Не работает с массивами или объектами напрямую:**
    
    Оператор `?.` не работает с массивами и объектами напрямую. Он применяется только к свойствам и методам.
    
    `const данные = null; console.log(данные?.[0]); // Выводит: undefined  const объект = { ключ: "значение" }; console.log(объект?.["ключ"]); // Выводит: значение`
    

### Заключение

Опциональная цепочка (`?.`) — это удобный инструмент для безопасного доступа к свойствам и методам объектов и массивов в JavaScript. Она помогает избежать ошибок, связанных с доступом к `null` или `undefined`, упрощает код и делает его более читабельным. Использование этого оператора делает работу с глубокими структурами данных более безопасной и эффективной.